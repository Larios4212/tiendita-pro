import{r as z,g as O,R as B}from"./index-CWJm3WaG.js";const q={},v=e=>{let o;const a=new Set,s=(i,p)=>{const l=typeof i=="function"?i(o):i;if(!Object.is(l,o)){const n=o;o=p??(typeof l!="object"||l===null)?l:Object.assign({},o,l),a.forEach(m=>m(o,n))}},t=()=>o,S={setState:s,getState:t,getInitialState:()=>u,subscribe:i=>(a.add(i),()=>a.delete(i)),destroy:()=>{(q?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},u=o=e(s,t,S);return S},w=e=>e?v(e):v;var D={exports:{}},A={},E={exports:{}},L={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y=z;function $(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var _=typeof Object.is=="function"?Object.is:$,x=y.useState,T=y.useEffect,F=y.useLayoutEffect,V=y.useDebugValue;function j(e,o){var a=o(),s=x({inst:{value:a,getSnapshot:o}}),t=s[0].inst,c=s[1];return F(function(){t.value=a,t.getSnapshot=o,P(t)&&c({inst:t})},[e,a,o]),T(function(){return P(t)&&c({inst:t}),e(function(){P(t)&&c({inst:t})})},[e]),V(a),a}function P(e){var o=e.getSnapshot;e=e.value;try{var a=o();return!_(e,a)}catch{return!0}}function U(e,o){return o()}var H=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?U:j;L.useSyncExternalStore=y.useSyncExternalStore!==void 0?y.useSyncExternalStore:H;E.exports=L;var G=E.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=z,K=G;function J(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var W=typeof Object.is=="function"?Object.is:J,Q=K.useSyncExternalStore,Y=h.useRef,Z=h.useEffect,X=h.useMemo,tt=h.useDebugValue;A.useSyncExternalStoreWithSelector=function(e,o,a,s,t){var c=Y(null);if(c.current===null){var r={hasValue:!1,value:null};c.current=r}else r=c.current;c=X(function(){function S(n){if(!u){if(u=!0,i=n,n=s(n),t!==void 0&&r.hasValue){var m=r.value;if(t(m,n))return p=m}return p=n}if(m=p,W(i,n))return m;var f=s(n);return t!==void 0&&t(m,f)?(i=n,m):(i=n,p=f)}var u=!1,i,p,l=a===void 0?null:a;return[function(){return S(o())},l===null?void 0:function(){return S(l())}]},[o,a,s,t]);var d=Q(e,c[0],c[1]);return Z(function(){r.hasValue=!0,r.value=d},[d]),tt(d),d};D.exports=A;var et=D.exports;const at=O(et),N={},{useDebugValue:ot}=B,{useSyncExternalStoreWithSelector:st}=at;let I=!1;const it=e=>e;function rt(e,o=it,a){(N?"production":void 0)!=="production"&&a&&!I&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),I=!0);const s=st(e.subscribe,e.getState,e.getServerState||e.getInitialState,o,a);return ot(s),s}const C=e=>{(N?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const o=typeof e=="function"?w(e):e,a=(s,t)=>rt(o,s,t);return Object.assign(a,o),a},ct=e=>e?C(e):C,g=[{id:"p01",name:"Coca-Cola 600ml",category:"bebidas",sku:"BEB-001",purchasePrice:12,salePrice:20,stock:48,minStock:24,unit:"pza",supplier:"FEMSA",lastRestocked:"2026-02-15",monthlySales:320},{id:"p02",name:"Pepsi 600ml",category:"bebidas",sku:"BEB-002",purchasePrice:11,salePrice:18,stock:36,minStock:20,unit:"pza",supplier:"PepsiCo",lastRestocked:"2026-02-14",monthlySales:180},{id:"p03",name:"Agua Ciel 1L",category:"bebidas",sku:"BEB-003",purchasePrice:6,salePrice:14,stock:60,minStock:30,unit:"pza",supplier:"FEMSA",lastRestocked:"2026-02-16",monthlySales:240},{id:"p04",name:"Jumex Mango 335ml",category:"bebidas",sku:"BEB-004",purchasePrice:8,salePrice:15,stock:18,minStock:20,unit:"pza",supplier:"Jumex",lastRestocked:"2026-02-10",monthlySales:120},{id:"p05",name:"Boing Guayaba 500ml",category:"bebidas",sku:"BEB-005",purchasePrice:7,salePrice:13,stock:5,minStock:15,unit:"pza",supplier:"Pascual",lastRestocked:"2026-02-08",monthlySales:90},{id:"p06",name:"Gatorade 600ml",category:"bebidas",sku:"BEB-006",purchasePrice:14,salePrice:25,stock:22,minStock:12,unit:"pza",supplier:"PepsiCo",lastRestocked:"2026-02-13",monthlySales:75},{id:"p07",name:"Sabritas Original 45g",category:"botanas",sku:"BOT-001",purchasePrice:10,salePrice:18,stock:30,minStock:15,unit:"pza",supplier:"PepsiCo",lastRestocked:"2026-02-14",monthlySales:200},{id:"p08",name:"Doritos Nacho 62g",category:"botanas",sku:"BOT-002",purchasePrice:12,salePrice:22,stock:25,minStock:15,unit:"pza",supplier:"PepsiCo",lastRestocked:"2026-02-14",monthlySales:170},{id:"p09",name:"Takis Fuego 70g",category:"botanas",sku:"BOT-003",purchasePrice:11,salePrice:20,stock:3,minStock:15,unit:"pza",supplier:"Barcel",lastRestocked:"2026-02-05",monthlySales:250},{id:"p10",name:"Cheetos Flamin Hot 52g",category:"botanas",sku:"BOT-004",purchasePrice:10,salePrice:18,stock:20,minStock:12,unit:"pza",supplier:"PepsiCo",lastRestocked:"2026-02-12",monthlySales:140},{id:"p11",name:"Leche Lala Entera 1L",category:"lacteos",sku:"LAC-001",purchasePrice:22,salePrice:32,stock:15,minStock:10,unit:"pza",supplier:"Lala",lastRestocked:"2026-02-16",monthlySales:160},{id:"p12",name:"Yogurt Danone Natural 900g",category:"lacteos",sku:"LAC-002",purchasePrice:28,salePrice:42,stock:8,minStock:6,unit:"pza",supplier:"Danone",lastRestocked:"2026-02-15",monthlySales:45},{id:"p13",name:"Queso Oaxaca 250g",category:"lacteos",sku:"LAC-003",purchasePrice:35,salePrice:55,stock:4,minStock:5,unit:"pza",supplier:"La Villita",lastRestocked:"2026-02-11",monthlySales:30},{id:"p14",name:"Frijoles La Costeña 560g",category:"abarrotes",sku:"ABA-001",purchasePrice:18,salePrice:28,stock:22,minStock:10,unit:"pza",supplier:"La Costeña",lastRestocked:"2026-02-13",monthlySales:80},{id:"p15",name:"Atún Dolores en Agua 140g",category:"abarrotes",sku:"ABA-002",purchasePrice:16,salePrice:26,stock:18,minStock:10,unit:"pza",supplier:"Dolores",lastRestocked:"2026-02-12",monthlySales:95},{id:"p16",name:"Aceite 123 1L",category:"abarrotes",sku:"ABA-003",purchasePrice:32,salePrice:48,stock:10,minStock:5,unit:"pza",supplier:"123",lastRestocked:"2026-02-10",monthlySales:40},{id:"p17",name:"Arroz Verde Valle 1kg",category:"abarrotes",sku:"ABA-004",purchasePrice:20,salePrice:35,stock:12,minStock:6,unit:"pza",supplier:"Verde Valle",lastRestocked:"2026-02-09",monthlySales:50},{id:"p18",name:"Azúcar Morena 1kg",category:"abarrotes",sku:"ABA-005",purchasePrice:25,salePrice:38,stock:8,minStock:5,unit:"pza",supplier:"Zulka",lastRestocked:"2026-02-11",monthlySales:35},{id:"p19",name:"Fabuloso Lavanda 1L",category:"limpieza",sku:"LIM-001",purchasePrice:22,salePrice:35,stock:14,minStock:6,unit:"pza",supplier:"Colgate-Palmolive",lastRestocked:"2026-02-14",monthlySales:55},{id:"p20",name:"Cloralex 1L",category:"limpieza",sku:"LIM-002",purchasePrice:18,salePrice:30,stock:0,minStock:5,unit:"pza",supplier:"Alen",lastRestocked:"2026-01-28",monthlySales:30},{id:"p21",name:"Papel Higiénico Pétalo 4pz",category:"limpieza",sku:"LIM-003",purchasePrice:28,salePrice:45,stock:10,minStock:8,unit:"paq",supplier:"Kimberly-Clark",lastRestocked:"2026-02-13",monthlySales:65},{id:"p22",name:"Jabón Zest 150g",category:"higiene",sku:"HIG-001",purchasePrice:12,salePrice:22,stock:16,minStock:8,unit:"pza",supplier:"Unilever",lastRestocked:"2026-02-12",monthlySales:40},{id:"p23",name:"Shampoo Caprice 800ml",category:"higiene",sku:"HIG-002",purchasePrice:38,salePrice:62,stock:6,minStock:4,unit:"pza",supplier:"Colgate-Palmolive",lastRestocked:"2026-02-10",monthlySales:20},{id:"p24",name:"Pasta Dental Colgate 100ml",category:"higiene",sku:"HIG-003",purchasePrice:20,salePrice:35,stock:12,minStock:6,unit:"pza",supplier:"Colgate-Palmolive",lastRestocked:"2026-02-14",monthlySales:35},{id:"p25",name:"Mazapán De la Rosa",category:"dulces",sku:"DUL-001",purchasePrice:3,salePrice:5,stock:50,minStock:30,unit:"pza",supplier:"De la Rosa",lastRestocked:"2026-02-15",monthlySales:280},{id:"p26",name:"Pulparindo Original",category:"dulces",sku:"DUL-002",purchasePrice:3,salePrice:6,stock:40,minStock:25,unit:"pza",supplier:"De la Rosa",lastRestocked:"2026-02-15",monthlySales:200},{id:"p27",name:"Paleta Payaso",category:"dulces",sku:"DUL-003",purchasePrice:5,salePrice:10,stock:2,minStock:15,unit:"pza",supplier:"Ricolino",lastRestocked:"2026-02-03",monthlySales:150},{id:"p28",name:"Chicle Trident 18pz",category:"dulces",sku:"DUL-004",purchasePrice:15,salePrice:28,stock:20,minStock:10,unit:"paq",supplier:"Mondelēz",lastRestocked:"2026-02-14",monthlySales:60},{id:"p29",name:"Pan Bimbo Blanco 680g",category:"pan",sku:"PAN-001",purchasePrice:35,salePrice:52,stock:8,minStock:5,unit:"pza",supplier:"Bimbo",lastRestocked:"2026-02-16",monthlySales:110},{id:"p30",name:"Donas Bimbo 6pz",category:"pan",sku:"PAN-002",purchasePrice:28,salePrice:42,stock:6,minStock:4,unit:"paq",supplier:"Bimbo",lastRestocked:"2026-02-16",monthlySales:55},{id:"p31",name:"Plátano (kg)",category:"frutas",sku:"FRU-001",purchasePrice:15,salePrice:25,stock:12,minStock:5,unit:"kg",supplier:"Mercado Local",lastRestocked:"2026-02-16",monthlySales:80},{id:"p32",name:"Limón (kg)",category:"frutas",sku:"FRU-002",purchasePrice:20,salePrice:35,stock:8,minStock:3,unit:"kg",supplier:"Mercado Local",lastRestocked:"2026-02-16",monthlySales:60}];function k(e,o=0){const a=new Date;return a.setHours(a.getHours()-e,a.getMinutes()-o),a.toISOString()}const M=[{id:"s01",timestamp:k(6,30),paymentMethod:"cash",discount:0,items:[{productId:"p01",productName:"Coca-Cola 600ml",quantity:2,unitPrice:20,subtotal:40},{productId:"p07",productName:"Sabritas Original 45g",quantity:1,unitPrice:18,subtotal:18}],subtotal:58,total:58},{id:"s02",timestamp:k(5,45),paymentMethod:"cash",discount:0,items:[{productId:"p25",productName:"Mazapán De la Rosa",quantity:5,unitPrice:5,subtotal:25},{productId:"p03",productName:"Agua Ciel 1L",quantity:1,unitPrice:14,subtotal:14}],subtotal:39,total:39},{id:"s03",timestamp:k(5,10),paymentMethod:"card",discount:0,items:[{productId:"p11",productName:"Leche Lala Entera 1L",quantity:2,unitPrice:32,subtotal:64},{productId:"p29",productName:"Pan Bimbo Blanco 680g",quantity:1,unitPrice:52,subtotal:52},{productId:"p14",productName:"Frijoles La Costeña 560g",quantity:1,unitPrice:28,subtotal:28}],subtotal:144,total:144},{id:"s04",timestamp:k(4,20),paymentMethod:"cash",discount:5,items:[{productId:"p09",productName:"Takis Fuego 70g",quantity:3,unitPrice:20,subtotal:60},{productId:"p01",productName:"Coca-Cola 600ml",quantity:3,unitPrice:20,subtotal:60},{productId:"p26",productName:"Pulparindo Original",quantity:4,unitPrice:6,subtotal:24}],subtotal:144,total:139},{id:"s05",timestamp:k(3,50),paymentMethod:"transfer",discount:0,items:[{productId:"p19",productName:"Fabuloso Lavanda 1L",quantity:2,unitPrice:35,subtotal:70},{productId:"p21",productName:"Papel Higiénico Pétalo 4pz",quantity:1,unitPrice:45,subtotal:45},{productId:"p22",productName:"Jabón Zest 150g",quantity:2,unitPrice:22,subtotal:44}],subtotal:159,total:159},{id:"s06",timestamp:k(3,15),paymentMethod:"cash",discount:0,items:[{productId:"p08",productName:"Doritos Nacho 62g",quantity:2,unitPrice:22,subtotal:44},{productId:"p06",productName:"Gatorade 600ml",quantity:2,unitPrice:25,subtotal:50}],subtotal:94,total:94},{id:"s07",timestamp:k(2,40),paymentMethod:"cash",discount:0,items:[{productId:"p02",productName:"Pepsi 600ml",quantity:1,unitPrice:18,subtotal:18},{productId:"p10",productName:"Cheetos Flamin Hot 52g",quantity:1,unitPrice:18,subtotal:18},{productId:"p27",productName:"Paleta Payaso",quantity:2,unitPrice:10,subtotal:20}],subtotal:56,total:56},{id:"s08",timestamp:k(2,0),paymentMethod:"card",discount:10,items:[{productId:"p16",productName:"Aceite 123 1L",quantity:1,unitPrice:48,subtotal:48},{productId:"p17",productName:"Arroz Verde Valle 1kg",quantity:2,unitPrice:35,subtotal:70},{productId:"p15",productName:"Atún Dolores en Agua 140g",quantity:3,unitPrice:26,subtotal:78},{productId:"p18",productName:"Azúcar Morena 1kg",quantity:1,unitPrice:38,subtotal:38}],subtotal:234,total:224},{id:"s09",timestamp:k(1,20),paymentMethod:"cash",discount:0,items:[{productId:"p01",productName:"Coca-Cola 600ml",quantity:1,unitPrice:20,subtotal:20},{productId:"p28",productName:"Chicle Trident 18pz",quantity:1,unitPrice:28,subtotal:28}],subtotal:48,total:48},{id:"s10",timestamp:k(0,35),paymentMethod:"cash",discount:0,items:[{productId:"p13",productName:"Queso Oaxaca 250g",quantity:1,unitPrice:55,subtotal:55},{productId:"p31",productName:"Plátano (kg)",quantity:2,unitPrice:25,subtotal:50},{productId:"p32",productName:"Limón (kg)",quantity:1,unitPrice:35,subtotal:35},{productId:"p24",productName:"Pasta Dental Colgate 100ml",quantity:1,unitPrice:35,subtotal:35}],subtotal:175,total:175}],ut=[{hour:"8 AM",sales:180},{hour:"9 AM",sales:320},{hour:"10 AM",sales:540},{hour:"11 AM",sales:420},{hour:"12 PM",sales:680},{hour:"1 PM",sales:750},{hour:"2 PM",sales:610},{hour:"3 PM",sales:480},{hour:"4 PM",sales:390},{hour:"5 PM",sales:520},{hour:"6 PM",sales:710},{hour:"7 PM",sales:580}],lt=[{day:"Lun",sales:4200,profit:1680},{day:"Mar",sales:3800,profit:1520},{day:"Mié",sales:4600,profit:1840},{day:"Jue",sales:5100,profit:2040},{day:"Vie",sales:6200,profit:2480},{day:"Sáb",sales:7800,profit:3120},{day:"Dom",sales:5400,profit:2160}],dt=[{name:"Coca-Cola 600ml",sold:42,revenue:840},{name:"Mazapán De la Rosa",sold:38,revenue:190},{name:"Takis Fuego 70g",sold:35,revenue:700},{name:"Sabritas Original 45g",sold:28,revenue:504},{name:"Agua Ciel 1L",sold:26,revenue:364}];function b(e){const o=[];let a=1;e.forEach(t=>{t.stock===0?o.push({id:`a${a++}`,type:"out-of-stock",productId:t.id,productName:t.name,message:`${t.name} está agotado. Últimamente se vendían ~${t.monthlySales} unidades al mes.`,severity:"critical",timestamp:new Date().toISOString(),currentStock:0,minStock:t.minStock}):t.stock<=t.minStock*.5?o.push({id:`a${a++}`,type:"low-stock",productId:t.id,productName:t.name,message:`Stock crítico: solo ${t.stock} ${t.unit} (mínimo: ${t.minStock}). Reabastecer urgente.`,severity:"critical",timestamp:new Date().toISOString(),currentStock:t.stock,minStock:t.minStock}):t.stock<=t.minStock&&o.push({id:`a${a++}`,type:"low-stock",productId:t.id,productName:t.name,message:`Stock bajo: ${t.stock} ${t.unit} de ${t.minStock} requeridas. Considerar reposición.`,severity:"warning",timestamp:new Date().toISOString(),currentStock:t.stock,minStock:t.minStock}),t.stock>0&&t.monthlySales<25&&t.stock>t.minStock*2&&o.push({id:`a${a++}`,type:"slow-moving",productId:t.id,productName:t.name,message:`Baja rotación: solo ${t.monthlySales} ventas/mes con ${t.stock} en stock. Considerar promoción.`,severity:"info",timestamp:new Date().toISOString(),currentStock:t.stock,minStock:t.minStock})});const s=e.filter(t=>t.stock<=t.minStock).slice(0,3);return s.length>0&&o.push({id:`a${a++}`,type:"restock",productId:"",productName:"",message:`Sugerencia: ${s.length} productos necesitan reposición. Contacta a tus proveedores.`,severity:"info",timestamp:new Date().toISOString()}),o}function R(e,o){const a=o.reduce((u,i)=>u+i.total,0),s=o.length,t=37200,c=e.reduce((u,i)=>u+i.purchasePrice*Math.min(i.monthlySales,i.stock),0),r=e.reduce((u,i)=>u+i.salePrice*Math.min(i.monthlySales,i.stock),0),d=r>0?(r-c)/r*100:0,S=e.filter(u=>u.stock<=u.minStock).length;return{todaySales:a,todayTransactions:s,monthlyRevenue:t,monthlyProfit:Math.round(t*d/100),estimatedMargin:Math.round(d*10)/10,lowStockCount:S,totalProducts:e.length}}const pt=ct((e,o)=>({products:g,sales:[...M],alerts:b(g),stats:R(g,M),cart:[],cartDiscount:0,sidebarOpen:!0,addToCart:(a,s=1)=>{e(t=>t.cart.find(r=>r.productId===a.id)?{cart:t.cart.map(r=>r.productId===a.id?{...r,quantity:r.quantity+s,subtotal:(r.quantity+s)*r.unitPrice}:r)}:{cart:[...t.cart,{productId:a.id,productName:a.name,quantity:s,unitPrice:a.salePrice,subtotal:a.salePrice*s}]})},removeFromCart:a=>e(s=>({cart:s.cart.filter(t=>t.productId!==a)})),updateCartQty:(a,s)=>{if(s<=0){o().removeFromCart(a);return}e(t=>({cart:t.cart.map(c=>c.productId===a?{...c,quantity:s,subtotal:s*c.unitPrice}:c)}))},setCartDiscount:a=>e({cartDiscount:Math.max(0,a)}),clearCart:()=>e({cart:[],cartDiscount:0}),completeSale:a=>{const{cart:s,cartDiscount:t,products:c,sales:r}=o();if(s.length===0)return;const d=s.reduce((l,n)=>l+n.subtotal,0),S=Math.max(0,d-t),u={id:`s${Date.now()}`,items:[...s],subtotal:d,discount:t,total:S,paymentMethod:a,timestamp:new Date().toISOString()},i=c.map(l=>{const n=s.find(m=>m.productId===l.id);return n?{...l,stock:Math.max(0,l.stock-n.quantity)}:l}),p=[u,...r];e({sales:p,products:i,cart:[],cartDiscount:0,alerts:b(i),stats:R(i,p)})},toggleSidebar:()=>e(a=>({sidebarOpen:!a.sidebarOpen})),refreshAlerts:()=>{const{products:a}=o();e({alerts:b(a)})}}));export{ut as M,lt as a,dt as b,pt as u};
